# PDFme システムパターン

## アーキテクチャ概要

PDFme はモジュール化されたパッケージ構造を採用しています。

```
pdfme/
├── packages/
│   ├── common/       # 共通の型定義とユーティリティ
│   ├── generator/    # PDF 生成エンジン
│   ├── schemas/      # テンプレートスキーマ定義
│   ├── ui/           # React ベースのデザイナーとビューア
│   ├── manipulator/  # PDF 操作ツール
│   └── converter/    # PDF 変換ユーティリティ
├── website/          # ドキュメンテーションサイト
└── playground/       # 開発テスト環境
```

## 主要な技術的決定事項

1.  **モノレポ構造**: 一貫した開発とリリースのために、すべてのパッケージを単一のリポジトリで管理します。

2.  **パッケージ分離**: 機能ごとにパッケージを分離し、必要な機能のみをインポートできるようにします。

3.  **pdf-lib フォーク**: CJK フォントと SVG サポートのために pdf-lib をフォークして拡張しました。

4.  **TypeScript 採用**: 型安全性とコード品質向上のために採用しました。

## デザインパターン

1.  **ファクトリーパターン**: テンプレートと PDF 生成のための抽象化。

2.  **アダプターパターン**: 異なる環境 (ブラウザ/Node.js) 間の互換性を確保します。

3.  **コンポジットパターン**: 複雑な PDF ドキュメント構造を構築します。

4.  **オブザーバーパターン**: UI コンポーネントにおける状態変更通知。 